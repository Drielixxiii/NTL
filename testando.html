<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style type="scss">
        body {
            margin: 0;
        }

        body {
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            background-color: #F7DDD4;
            font-family: "Roboto";
        }

        body,
        h1 {
            font-size: 36px;
            font-weight: bold;
            color: #2E3409;
        }

        .ss-item {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        

        .ss-item,
        h1 {
            color: white;
            font-size: 100px;
        }




        /* #container {
            white-space: nowrap;
            overflow: scroll;
        }

        #content {
            background-color: black;
            color: white;
            width: 300%;
        }

        section {
            display: inline-block;
        } */
    </style>
    <script>

        function scrollSlide(args) {
            //args.container, args.item, args.animType, args.duration, args.delay, args.uncutMove
            const scrollContainerEle = document.querySelector(args.container);
            const scrollItems = Array.from(document.querySelectorAll(`${args.container} ${args.item}`));

            let allowAnimation = true;
            let allowAnimationTimeout;

            // NOTE:
            // INNER FUNCTIONS DECLARATION
            function addAnimationClasses() {
                scrollItems.forEach((item) => {
                    item.classList.add(args.animType);
                })
            }

            function addLoppAnimClasses() {
                let activeItem = scrollItems.find((item) => {
                    return item.classList.contains('active');
                })

                let nextItem = scrollItems[scrollItems.indexOf(activeItem) + 1];
                let prevItem = scrollItems[scrollItems.indexOf(activeItem) - 1];

                if (!nextItem) {
                    nextItem = scrollItems[0];
                };

                if (!prevItem) {
                    prevItem = scrollItems[scrollItems.length - 1];
                };
                let itemsProceed = 0;
                console.log('%c Remove Classes', 'background-color: red;')
                scrollItems.forEach((item) => {
                    itemsProceed++;

                    item.classList.remove('ss-move-prev')
                    item.classList.remove('ss-move-next')
                    console.log(itemsProceed + " | " + scrollItems.length)

                    if (itemsProceed === scrollItems.length) {
                        nextItem.classList.add('ss-move-next');
                        prevItem.classList.add('ss-move-prev');

                    }
                })
            }


            function addAnimationDuration() {
                scrollItems.forEach((item) => {
                    item.style.transitionDuration = `${args.duration}s`;
                    addAnimationDelay(item)
                })
            }

            function addAnimationDelay(item) {
                item.style.transitionDelay = `${args.delay}s`;
            }

            function stopScrollAnim() {
                if (allowAnimation) { allowAnimation = false }
                allowAnimationTimeout = setTimeout(() => {
                    allowAnimation = true;

                    scrollItems.forEach((item) => {
                        item.classList.remove('ss-moving');
                    })
                }, (args.duration + args.delay) * 1000)
            }

            function changeScrollSlide(moveDown) {
                console.log(moveDown)
                let activeItem = scrollItems.find((item) => {
                    return item.classList.contains('active');
                })
                let nextItem;

                if (moveDown) {
                    nextItem = scrollItems[scrollItems.indexOf(activeItem) + 1]
                } else {
                    nextItem = scrollItems[scrollItems.indexOf(activeItem) - 1]
                }

                if (nextItem) {
                    activeItem.classList.add('ss-moving');
                    nextItem.classList.add('ss-moving');
                    activeItem.classList.remove('active');
                    nextItem.classList.add('active');

                    if (args.uncutMove) { addLoppAnimClasses() }

                } else {
                    activeItem.classList.add('ss-moving');
                    activeItem.classList.remove('active');

                    if (moveDown) {
                        scrollItems[0].classList.add('ss-moving');
                        scrollItems[0].classList.add('active');

                        if (args.uncutMove) { addLoppAnimClasses() }
                    } else {
                        scrollItems[scrollItems.length - 1].classList.add('ss-moving');
                        scrollItems[scrollItems.length - 1].classList.add('active');

                        if (args.uncutMove) { addLoppAnimClasses() }
                    }
                }
            }

            // NOTE:
            // INNER FUNCTION CALLS
            addAnimationClasses()
            if (args.uncutMove) { addLoppAnimClasses() }
            addAnimationDuration()


            return (function () {
                let eventType;
                let isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
                let isIe = /MSIE|Trident/.test(window.navigator.userAgent);
                if (isFirefox) {
                    eventType = 'DOMMouseScroll';
                } else if (isIe) {
                    eventType = 'mousewheel';
                } else {
                    eventType = 'wheel';
                }
                scrollContainerEle.addEventListener(eventType, function (event) {
                    let scrollTop = scrollContainerEle.scrollTop,
                        scrollHeight = scrollContainerEle.scrollHeight,
                        height = scrollContainerEle.clientHeight;

                    let delta = (event.wheelDelta) ? event.wheelDelta : -(event.detail || 0);
                    // console.log(`scrollTop ${screenTop}  height ${height} scrollHeight ${scrollHeight}`)
                    if ((delta > 0 && scrollTop - delta <= 0) || (delta < 0 && scrollTop + height >= scrollHeight - 1)) {
                        if (delta > 0) {

                            if (allowAnimation) {
                                stopScrollAnim()
                                changeScrollSlide(false)
                            }

                        } else {
                            if (allowAnimation) {
                                stopScrollAnim()
                                changeScrollSlide(true);
                            }
                        }
                        event.preventDefault();
                    } else {
                        if (delta < 0) {
                            if (allowAnimation) {
                                stopScrollAnim()
                                changeScrollSlide(true);
                            }
                        }
                        event.preventDefault();
                    }
                })
            }())
        }

        // INITIALIZATION 
        scrollSlide({
            container: ".ss-container",
            item: ".ss-item",
            animType: "ss-move-right",
            duration: 1,
            delay: 0,
            uncutMove: true
        })


        // var container = document.getElementById('container');
        // container.scrollLeft = 150;


        // document.addEventListener('DOMContentLoaded', function () {
        //     var button = document.getElementById('direita');
        //     button.onclick = function () {
        //         document.getElementById('container').scrollLeft += 1000;
        //     };
        // }, false);
        // document.addEventListener('DOMContentLoaded', function () {
        //     var button = document.getElementById('esquerda');
        //     button.onclick = function () {
        //         document.getElementById('container').scrollLeft -= 1000;
        //     };
        // }, false);
    </script>
</head>

<body>
    <div class="ss-container">
        <div class="ss-item ss-loop active" style="background-color: #FD4D0C;">
            <h1>1</h1>
        </div>
        <div class="ss-item ss-loop" style="background-color: #CBE432;">
            <h1>2</h1>
        </div>
        <div class="ss-item ss-loop" style="background-color: #2E2FE3;">
            <h1>3</h1>
        </div>
    </div>
</body>

<!-- <body>
    <div id="container">
        <section>
            <div class="page-header section-dark" id="inicio">
                <video autoplay muted loop poster="img/pexels-cottonbro-5483085.mp4" class="bg_video">
                    <source src="img/pexels-cottonbro-5483085.mp4" type="video/mp4" />
                </video>
                <div class="filter"></div>
                <div class="content-center">
                    <div class="container">
                        <div class=" slogan pb-5" id="maquinadeescrever">
                        </div>
                    </div>
                </div>
                <p class="category-absolute">
                    <a href="#oquefazemos" class="hide mb-5" id="proximasessao">
                        <img src="img/seta-para-baixo.png" id="proximasessao" style="height: 40px" />
                    </a>
                </p>
            </div>
        </section>
        <section class="oquefazemos" id="oquefazemos">
            <div class="pt-5 container marketing">
                <div class="row featurette" data-anime="scroll">
                    <div class="col-md-7 b-3">
                        <h2 class="featurette-heading">
                            Conexão é a chave para as <br />maiores oportunidades.
                        </h2>
                        <p>
                            Donec ullamcorper nulla non metus auctor fringilla.
                            <br />Vestibulum id ligula porta felis euismod semper. <br />
                            Praesent commodo cursus magna, vel scelerisque nisl consectetur.
                            <br />Fusce dapibus, tellus ac cursus commodo.
                        </p>
                    </div>
                    <div class="col-md-5">
                        <img src="img/programando.jpg" class="imagemservico" />
                    </div>
                </div>
                <div class="row featurette mt-5" data-anime="scroll">
                    <div class="col-md-7 order-md-2 pb-3">
                        <h2 class="featurette-heading-lado">
                            Conquiste novas<br />
                            habilidades e seja reconhecido.
                        </h2>
                        <p class="lado ">
                            Donec ullamcorper nulla non metus auctor fringilla.
                            <br />Vestibulum id ligula porta felis euismod semper. <br />
                            Praesent commodo cursus magna, vel scelerisque nisl consectetur.
                            <br />Fusce dapibus, tellus ac cursus commodo.
                        </p>
                    </div>
                    <div class="col-md-5 order-md-1">
                        <img src="img/programando.jpg" class="imagemservico" />
                    </div>
                </div>
            </div>
        </section>
    </div>

    <button id="esquerda" type="button">esquerda</button>
    <button id="direita" type="button">direita</button>


</body> -->

</html>